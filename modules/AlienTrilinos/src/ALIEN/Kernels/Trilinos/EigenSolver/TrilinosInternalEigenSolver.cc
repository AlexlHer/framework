
/* Author : desrozis at Mon Mar 30 15:06:37 2009
 * Generated by createNew
 */
#define MPICH_SKIP_MPICXX 1
#include "mpi.h"

#include <vector>

#include "ALIEN/Kernels/Trilinos/TrilinosPrecomp.h"
#include <ALIEN/Kernels/Trilinos/DataStructure/TrilinosVector.h>
#include <ALIEN/Kernels/Trilinos/DataStructure/TrilinosMatrix.h>
#include <ALIEN/Kernels/Trilinos/Algebra/TrilinosLinearAlgebra.h>
#include <ALIEN/Kernels/Trilinos/Algebra/TrilinosInternalLinearAlgebra.h>
#include <ALIEN/Kernels/Trilinos/DataStructure/TrilinosInternal.h>

#include <ALIEN/Data/Space.h>
#include <ALIEN/Data/IMatrix.h>
#include <ALIEN/Data/IVector.h>
#include <ALIEN/Expression/Solver/IEigenSolver.h>
#include <ALIEN/Core/Impl/MultiMatrixImpl.h>
#include <ALIEN/Core/Impl/MultiVectorImpl.h>
#include <ALIEN/Kernels/Trilinos/TrilinosPrecomp.h>
#include <ALIEN/Core/Backend/EigenSolverT.h>
#include <ALIEN/axl/TrilinosEigenSolver_IOptions.h>

#include <ALIEN/Kernels/Trilinos/EigenSolver/TrilinosInternalEigenSolver.h>

/*---------------------------------------------------------------------------*/

namespace Alien {

/*---------------------------------------------------------------------------*/
TrilinosInternalEigenSolver::TrilinosInternalEigenSolver(
        Arccore::MessagePassing::IMessagePassingMng *parallel_mng, IOptionsTrilinosEigenSolver *options)
: m_parallel_mng(parallel_mng)
, m_options(options)
{}

void
TrilinosInternalEigenSolver::init(int argc, char const** argv)
{
#ifdef ALIEN_USE_TRILINOSSOLVER
  //m_hts_solver.reset(new HartsSolver::HTSSolver()) ;
#endif
}


/*---------------------------------------------------------------------------*/

void
TrilinosInternalEigenSolver::init()
{
  m_output_level = m_options->output();
}


/*---------------------------------------------------------------------------*/






/*---------------------------------------------------------------------------*/



const Alien::IEigenSolver::Status&
TrilinosInternalEigenSolver::
getStatus() const
{
  return m_status;
}




bool
TrilinosInternalEigenSolver::
solve(EigenProblem& p)
{
  using namespace Alien;

#ifdef ALIEN_USE_TRILINOSSOLVER
    //EigenProblemT<BackEnd::tag::simplecsr> true_problem(p) ;
    //return solve(true_problem) ;
#endif
  return false ;
}

bool
TrilinosInternalEigenSolver::
solve(GeneralizedEigenProblem& p)
{
  using namespace Alien;

#ifdef ALIEN_USE_TRILINOSSOLVER
    //EigenProblemT<BackEnd::tag::simplecsr> true_problem(p) ;
    //return solve(true_problem) ;
#endif
  return false ;
}

IEigenSolver *
TrilinosInternalEigenSolverFactory(Arccore::MessagePassing::IMessagePassingMng *p_mng,
                                   IOptionsTrilinosEigenSolver *options)
{
  return new TrilinosInternalEigenSolver(p_mng, options);
}
} // namespace Alien
