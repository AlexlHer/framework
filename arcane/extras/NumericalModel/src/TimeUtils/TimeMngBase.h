// -*- tab-width: 2; indent-tabs-mode: nil; coding: utf-8-with-signature -*-
#ifndef ARCGEOSIM_TIMEUTILS_TIMEMNGBASE_H
#define ARCGEOSIM_TIMEUTILS_TIMEMNGBASE_H
/* Author : havep at Thu Apr  2 11:26:41 2009
 * Generated by createNew
 */

class IAppServiceMng ;
class ITimeMng ;

namespace Arcane {
  class ITraceMng;
  class ISubDomain;
}

#include <arcane/VariableTypes.h>

using namespace Arcane;

class TimeMngBase
{
public:
  /** Constructeur de la classe */
  TimeMngBase(ISubDomain * subDomain);
  
  /** Destructeur de la classe */
  virtual ~TimeMngBase() {}
  
public:

  void prepareInit();
  void init();
  void continueInit();
  void beginTimeStep(); 
  bool endTimeStep();

  bool verbose() const { return m_verbose; }
  void setVerbose(bool verbose) { m_verbose = verbose; }

private:
  //! Internal init
  /*! Used by init and prepareInit */
  void _init();

private:
  ISubDomain * m_sub_domain;
  ITraceMng * m_trace_mng;

  VariableScalarInteger m_global_iteration; 
  VariableScalarReal m_global_time; 
  VariableScalarReal m_global_deltat; 
  VariableScalarReal m_global_old_time; 
  VariableScalarReal m_global_old_deltat; 
  VariableScalarReal m_global_final_time; 
  VariableScalarReal m_global_cpu_time; 

  bool m_prepared; //!< Prepare state; used in init and compute loop to check start/end association
  bool m_verbose;
  bool m_initialized;

  ITimeMng* m_time_mng;
  IAppServiceMng* m_app_service_mng;
  
};

#endif /* ARCGEOSIM_TIMEUTILS_TIMEMNGBASE_H */
